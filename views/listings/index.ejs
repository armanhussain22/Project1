<% layout ("/layouts/boilerplate") %>

<style>
 #filters {
    display: flex; /* flex aline the things in one line */
    flex-wrap: wrap; /* use of flex-wrap If there isnâ€™t enough space in one row, move the extra items to the next line.*/
 }
 .filter {
    text-align: center;
    margin-right: 3em;
    margin-top: 2em;
    margin-bottom: 2em;
    opacity: 0.7;
    color: #0f0f0f;
 }
  .filter:hover{
     opacity: 1;
     cursor: pointer;
     color: #fc0303;
  }

   .filter p{
      font-size: 0.8rem;
   }
       /*# is used for id and . is use for class*/
   .tax-info { /*display : none; (It will not display on the screen and space of will aslo be not display) and display: hidden (It will hide the element from and only its space will be visible)*/
      display: none;
   }

   .tax-toggle{
      border: 1px solid black;
      border-radius: 1.2rem;
      height: 3.5rem;
      padding: 1rem;
   }
    
    .tax-toggle:hover{
       background-color: #050607f5; /* blue background */
       color: white;              /* white text */
       cursor: pointer;
       border: none;
    }
</style>

    <div id="filters">
        <div class="filter">
         <div> <i class="fa-solid fa-fire" style="color: #fc0303;"></i></div> 
          <p> Trending</p>
        </div>
    
        <div class="filter">
         <div> <i class="fa-solid fa-bed" style="color: #0f0f0f;"></i></div> 
          <p> Rooms </p>
        </div>

         <div class="filter">
         <div> <i class="fa-solid fa-mountain-city" style="color: #06b112;"></i></div> 
          <p> Mountains </p>
        </div>

         <div class="filter">
         <div><i class="fa-solid fa-chess-rook" style="color: #0d0d0d;"></i></i></i></div> 
          <p> Castles </p>
        </div>

         <div class="filter">
         <div> <i class="fa-solid fa-person-swimming" style="color: #8e1490;"></i></i></div> 
          <p> Amazing pools </p>
        </div>

         <div class="filter">
         <div> <i class="fa-solid fa-campground" style="color: #fc030394;"></i></i></div> 
          <p> Camping </p>
        </div>

         <div class="filter">
         <div><i class="fa-solid fa-wheat-awn" style="color: #FFD43B;"></i></div> 
          <p> farms </p>
        </div>

         <div class="filter">
         <div><i class="fa-solid fa-snowflake" style="color: #74C0FC;"></i></div> 
          <p> Arctic </p>
        </div>

         <div class="filter">
         <div><i class="fa-solid fa-tree" style="color: #06d068;"></i></div> 
          <p> Forest </p>
        </div>

         <div class="filter">
         <div> <i class="fa-solid fa-city" style="color: #131416;"></i></div> 
          <p> City </p>
        </div>

        <div class="filter">
         <div> <i class="fa-solid fa-people-group" style="color: #0f2f67;"></i></div> 
          <p> family-Friendly </p>
        </div>

        <div class="filter">
         <div> <i class="fa-solid fa-ship" style="color: #4f0337;"></i></div> 
          <p> Ships </p>
        </div>

        <div class="tax-toggle mt-3 ms-5">
         <div class="form-check-reverse form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
              <label class="form-check-label" for="switchCheckDefault">Display Taxes</label>
        </div>
        </div>
</div>


    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3"> <!--This rol(Row)-cols(Column)-lg(large)-3(number of cards in one row and column)-->
     <% for(let listing of allListings) { %>
      <a href="/listings/<%=listing._id %>">
   <div class="card col listing-card" style="width: 18rem;" class="listing-link">
         <img src="<%= listing.image.url %>" class="card-img-top" alt="listing_image" style="height : 20rem"/>
         <div class="card-img-overlay"></div>
         <div class="card-body">
          <p class="card-text">
            <%= listing.title %><br /><br />
           &#8377; <%= listing.price.toLocaleString("en-IN")%>/night<br /><br />
           <i class="tax-info">&nbsp;+18% GST </i>
          </p>
         </div>
   </div>
   <% } %>
   </div>
   <!-- <ul>
     <% for(let listing of allListings) { %>
        <li><a href="/listings/<%= listing._id %>"><%= listing.title %></a></li>
    <% } %>
    </ul> -->


<script>
   let taxSwitch = document.getElementById("switchCheckDefault");
   taxSwitch.addEventListener("click",() => {
    let taxInfo = document.getElementsByClassName("tax-info");
    for(info of taxInfo){
      if(info.style.display !="inline") {
         info.style.display = "inline";
      } else{
         info.style.display = "none";
      }
    }
   });
</script>